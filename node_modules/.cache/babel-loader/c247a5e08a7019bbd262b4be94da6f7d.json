{"remainingRequest":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/thread-loader/dist/cjs.js!/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/babel-loader/lib/index.js!/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/src/views/Blog/components/BlogList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/src/views/Blog/components/BlogList.vue","mtime":1622901908806},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBhZ2VyIGZyb20gIkAvY29tcG9uZW50cy9QYWdlciI7CmltcG9ydCBmZXRjaERhdGEgZnJvbSAiQC9taXhpbnMvZmV0Y2hEYXRhLmpzIjsKaW1wb3J0IHsgZ2V0QmxvZ3MgfSBmcm9tICJAL2FwaS9ibG9nLmpzIjsKaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gIkAvdXRpbHMiOwppbXBvcnQgbWFpblNjcm9sbCBmcm9tICJAL21peGlucy9tYWluU2Nyb2xsLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2ZldGNoRGF0YSh7fSksIG1haW5TY3JvbGwoIm1haW5Db250YWluZXIiKV0sCiAgY29tcG9uZW50czogewogICAgUGFnZXIKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDojrflj5bot6/nlLHkv6Hmga8KICAgIHJvdXRlSW5mbygpIHsKICAgICAgY29uc3QgY2F0ZWdvcnlJZCA9ICt0aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZWdvcnlJZCB8fCAtMTsKICAgICAgY29uc3QgcGFnZSA9ICt0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlIHx8IDE7CiAgICAgIGNvbnN0IGxpbWl0ID0gK3RoaXMuJHJvdXRlLnF1ZXJ5LmxpbWl0IHx8IDEwOwogICAgICByZXR1cm4gewogICAgICAgIGNhdGVnb3J5SWQsCiAgICAgICAgcGFnZSwKICAgICAgICBsaW1pdAogICAgICB9OwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdERhdGUsCgogICAgYXN5bmMgZmV0Y2hEYXRhKCkgewogICAgICByZXR1cm4gYXdhaXQgZ2V0QmxvZ3ModGhpcy5yb3V0ZUluZm8ucGFnZSwgdGhpcy5yb3V0ZUluZm8ubGltaXQsIHRoaXMucm91dGVJbmZvLmNhdGVnb3J5SWQpOwogICAgfSwKCiAgICBoYW5kbGVQYWdlQ2hhbmdlKG5ld1BhZ2UpIHsKICAgICAgY29uc3QgcXVlcnkgPSB7CiAgICAgICAgcGFnZTogbmV3UGFnZSwKICAgICAgICBsaW1pdDogdGhpcy5yb3V0ZUluZm8ubGltaXQKICAgICAgfTsgLy8g6Lez6L2s5YiwIOW9k+WJjeeahOWIhuexu2lkICDlvZPliY3nmoTpobXlrrnph48gIG5ld1BhZ2XnmoTpobXnoIEKCiAgICAgIGlmICh0aGlzLnJvdXRlSW5mby5jYXRlZ29yeUlkID09PSAtMSkgewogICAgICAgIC8vIOW9k+WJjeayoeacieWIhuexuwogICAgICAgIC8vIC9hcnRpY2xlP3BhZ2U9JHtuZXdQYWdlfSZsaW1pdD0ke3RoaXMucm91dGVJbmZvLmxpbWl0fQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJCbG9nIiwKICAgICAgICAgIHF1ZXJ5CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gL2FydGljbGUvY2F0ZS8ke3RoaXMucm91dGVJbmZvLmNhdGVnb3J5SWR9P3BhZ2U9JHtuZXdQYWdlfSZsaW1pdD0ke3RoaXMucm91dGVJbmZvLmxpbWl0fQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJDYXRlZ29yeUJsb2ciLAogICAgICAgICAgcXVlcnksCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgY2F0ZWdvcnlJZDogdGhpcy5yb3V0ZUluZm8uY2F0ZWdvcnlJZAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogIH0sCiAgd2F0Y2g6IHsKICAgIGFzeW5jICRyb3V0ZSgpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOyAvLyDmu5rliqjpq5jluqbkuLowCgogICAgICB0aGlzLiRyZWZzLm1haW5Db250YWluZXIuc2Nyb2xsVG9wID0gMDsKICAgICAgdGhpcy5kYXRhID0gYXdhaXQgdGhpcy5mZXRjaERhdGEoKTsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["BlogList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,OAAA,KAAA,MAAA,oBAAA;AACA,OAAA,SAAA,MAAA,uBAAA;AACA,SAAA,QAAA,QAAA,eAAA;AACA,SAAA,UAAA,QAAA,SAAA;AACA,OAAA,UAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,CAAA,EAAA,UAAA,CAAA,eAAA,CAAA,CADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,SAAA,GAAA;AACA,YAAA,UAAA,GAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,UAAA,IAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,IAAA,CAAA;AACA,YAAA,KAAA,GAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA,IAAA,EAAA;AACA,aAAA;AACA,QAAA,UADA;AAEA,QAAA,IAFA;AAGA,QAAA;AAHA,OAAA;AAKA;;AAXA,GALA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA;;AAEA,UAAA,SAAA,GAAA;AACA,aAAA,MAAA,QAAA,CACA,KAAA,SAAA,CAAA,IADA,EAEA,KAAA,SAAA,CAAA,KAFA,EAGA,KAAA,SAAA,CAAA,UAHA,CAAA;AAKA,KARA;;AASA,IAAA,gBAAA,CAAA,OAAA,EAAA;AACA,YAAA,KAAA,GAAA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA,KAAA,SAAA,CAAA;AAFA,OAAA,CADA,CAKA;;AACA,UAAA,KAAA,SAAA,CAAA,UAAA,KAAA,CAAA,CAAA,EAAA;AACA;AACA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA;AAFA,SAAA;AAIA,OAPA,MAOA;AACA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,cADA;AAEA,UAAA,KAFA;AAGA,UAAA,MAAA,EAAA;AACA,YAAA,UAAA,EAAA,KAAA,SAAA,CAAA;AADA;AAHA,SAAA;AAOA;AACA;;AAhCA,GAlBA;AAoDA,EAAA,KAAA,EAAA;AACA,UAAA,MAAA,GAAA;AACA,WAAA,SAAA,GAAA,IAAA,CADA,CAEA;;AACA,WAAA,KAAA,CAAA,aAAA,CAAA,SAAA,GAAA,CAAA;AACA,WAAA,IAAA,GAAA,MAAA,KAAA,SAAA,EAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA;;AAPA;AApDA,CAAA","sourcesContent":["<template>\n  <div class=\"blog-list-container\" ref=\"mainContainer\" v-loading=\"isLoading\">\n    <ul>\n      <li v-for=\"item in data.rows\" :key=\"item.id\">\n        <div class=\"thumb\" v-if=\"item.thumb\">\n          <RouterLink\n            :to=\"{\n              name: 'BlogDetail',\n              params: {\n                id: item.id,\n              },\n            }\"\n          >\n            <img v-lazy=\"item.thumb\" :alt=\"item.title\" :title=\"item.title\" />\n          </RouterLink>\n        </div>\n        <div class=\"main\">\n          <RouterLink\n            :to=\"{\n              name: 'BlogDetail',\n              params: {\n                id: item.id,\n              },\n            }\"\n          >\n            <h2>{{ item.title }}</h2>\n          </RouterLink>\n          <div class=\"aside\">\n            <span>日期：{{ formatDate(item.createDate) }}</span>\n            <span>浏览：{{ item.scanNumber }}</span>\n            <span>评论：{{ item.commentNumber }}</span>\n            <RouterLink\n              :to=\"{\n                name: 'CategoryBlog',\n                params: {\n                  categoryId: item.category.id,\n                },\n              }\"\n            >\n              {{ item.category.name }}\n            </RouterLink>\n          </div>\n          <div class=\"desc\">\n            {{ item.description }}\n          </div>\n        </div>\n      </li>\n    </ul>\n    <!-- 分页放到这里 -->\n    <Pager\n      v-if=\"data.total\"\n      :current=\"routeInfo.page\"\n      :total=\"data.total\"\n      :limit=\"routeInfo.limit\"\n      :visibleNumber=\"10\"\n      @pageChange=\"handlePageChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport Pager from \"@/components/Pager\";\nimport fetchData from \"@/mixins/fetchData.js\";\nimport { getBlogs } from \"@/api/blog.js\";\nimport { formatDate } from \"@/utils\";\nimport mainScroll from \"@/mixins/mainScroll.js\";\nexport default {\n  mixins: [fetchData({}), mainScroll(\"mainContainer\")],\n  components: {\n    Pager,\n  },\n  computed: {\n    // 获取路由信息\n    routeInfo() {\n      const categoryId = +this.$route.params.categoryId || -1;\n      const page = +this.$route.query.page || 1;\n      const limit = +this.$route.query.limit || 10;\n      return {\n        categoryId,\n        page,\n        limit,\n      };\n    },\n  },\n  methods: {\n    formatDate,\n    async fetchData() {\n      return await getBlogs(\n        this.routeInfo.page,\n        this.routeInfo.limit,\n        this.routeInfo.categoryId\n      );\n    },\n    handlePageChange(newPage) {\n      const query = {\n        page: newPage,\n        limit: this.routeInfo.limit,\n      };\n      // 跳转到 当前的分类id  当前的页容量  newPage的页码\n      if (this.routeInfo.categoryId === -1) {\n        // 当前没有分类\n        // /article?page=${newPage}&limit=${this.routeInfo.limit}\n        this.$router.push({\n          name: \"Blog\",\n          query,\n        });\n      } else {\n        // /article/cate/${this.routeInfo.categoryId}?page=${newPage}&limit=${this.routeInfo.limit}\n        this.$router.push({\n          name: \"CategoryBlog\",\n          query,\n          params: {\n            categoryId: this.routeInfo.categoryId,\n          },\n        });\n      }\n    },\n  },\n  watch: {\n    async $route() {\n      this.isLoading = true;\n      // 滚动高度为0\n      this.$refs.mainContainer.scrollTop = 0;\n      this.data = await this.fetchData();\n      this.isLoading = false;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"~@/styles/var.less\";\n.blog-list-container {\n  line-height: 1.7;\n  position: relative;\n  padding: 20px;\n  overflow-y: scroll;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  scroll-behavior: smooth;\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n}\nli {\n  display: flex;\n  padding: 15px 0;\n  border-bottom: 1px solid @gray;\n  .thumb {\n    flex: 0 0 auto;\n    margin-right: 15px;\n    img {\n      display: block;\n      max-width: 200px;\n      border-radius: 5px;\n    }\n  }\n  .main {\n    flex: 1 1 auto;\n    h2 {\n      margin: 0;\n    }\n  }\n  .aside {\n    font-size: 12px;\n    color: @gray;\n    span {\n      margin-right: 15px;\n    }\n  }\n  .desc {\n    margin: 15px 0;\n    font-size: 14px;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Blog/components"}]}