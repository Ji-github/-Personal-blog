{"remainingRequest":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/thread-loader/dist/cjs.js!/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/babel-loader/lib/index.js!/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/src/views/Blog/components/BlogTOC.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/src/views/Blog/components/BlogTOC.vue","mtime":1622901908806},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jixinyan/Desktop/前端/DuYi-Vue2/1. 入门/39. 打包结果分析/课堂代码/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmFuY2hvciI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMvaml4aW55YW4vRGVza3RvcC9cdTUyNERcdTdBRUYvRHVZaS1WdWUyLzEuIFx1NTE2NVx1OTVFOC8zOS4gXHU2MjUzXHU1MzA1XHU3RUQzXHU2NzlDXHU1MjA2XHU2NzkwL1x1OEJGRVx1NTgwMlx1NEVFM1x1NzgwMS9teS1zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2ppeGlueWFuL0Rlc2t0b3AvXHU1MjREXHU3QUVGL0R1WWktVnVlMi8xLiBcdTUxNjVcdTk1RTgvMzkuIFx1NjI1M1x1NTMwNVx1N0VEM1x1Njc5Q1x1NTIwNlx1Njc5MC9cdThCRkVcdTU4MDJcdTRFRTNcdTc4MDEvbXktc2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBSaWdodExpc3QgZnJvbSAiLi9SaWdodExpc3QiOwppbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gIkAvdXRpbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUmlnaHRMaXN0OiBSaWdodExpc3QKICB9LAogIHByb3BzOiB7CiAgICB0b2M6IHsKICAgICAgdHlwZTogQXJyYXkKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVBbmNob3I6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOagueaNrnRvY+WxnuaAp+S7peWPimFjdGl2ZUFuY2hvcuW+l+WIsOW4puaciWlzU2VsZWN05bGe5oCn55qEdG9j5pWw57uECiAgICB0b2NXaXRoU2VsZWN0OiBmdW5jdGlvbiB0b2NXaXRoU2VsZWN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGdldFRPQyA9IGZ1bmN0aW9uIGdldFRPQygpIHsKICAgICAgICB2YXIgdG9jID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgICByZXR1cm4gdG9jLm1hcChmdW5jdGlvbiAodCkgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdCksIHt9LCB7CiAgICAgICAgICAgIGlzU2VsZWN0OiB0LmFuY2hvciA9PT0gX3RoaXMuYWN0aXZlQW5jaG9yLAogICAgICAgICAgICBjaGlsZHJlbjogZ2V0VE9DKHQuY2hpbGRyZW4pCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHJldHVybiBnZXRUT0ModGhpcy50b2MpOwogICAgfSwKICAgIC8vIOagueaNrnRvY+W+l+WIsOWug+S7rOWvueW6lOeahOWFg+e0oOaVsOe7hAogICAgZG9tczogZnVuY3Rpb24gZG9tcygpIHsKICAgICAgdmFyIGRvbXMgPSBbXTsKCiAgICAgIHZhciBhZGRUb0RvbXMgPSBmdW5jdGlvbiBhZGRUb0RvbXModG9jKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRvYyksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHQgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgZG9tcy5wdXNoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuYW5jaG9yKSk7CgogICAgICAgICAgICBpZiAodC5jaGlsZHJlbiAmJiB0LmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgICAgIGFkZFRvRG9tcyh0LmNoaWxkcmVuKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBhZGRUb0RvbXModGhpcy50b2MpOwogICAgICByZXR1cm4gZG9tczsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFNlbGVjdERlYm91bmNlID0gZGVib3VuY2UodGhpcy5zZXRTZWxlY3QsIDUwKTsKICAgIHRoaXMuJGJ1cy4kb24oIm1haW5TY3JvbGwiLCB0aGlzLnNldFNlbGVjdERlYm91bmNlKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgdGhpcy4kYnVzLiRvZmYoIm1haW5TY3JvbGwiLCB0aGlzLnNldFNlbGVjdERlYm91bmNlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVNlbGVjdDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0KGl0ZW0pIHsKICAgICAgbG9jYXRpb24uaGFzaCA9IGl0ZW0uYW5jaG9yOwogICAgfSwKICAgIC8vIOiuvue9rmFjdGl2ZUFuY2hvcuS4uuato+ehrueahOWAvAogICAgc2V0U2VsZWN0OiBmdW5jdGlvbiBzZXRTZWxlY3Qoc2Nyb2xsRG9tKSB7CiAgICAgIGlmICghc2Nyb2xsRG9tKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmFjdGl2ZUFuY2hvciA9ICIiOyAvLyDnlLHkuo7lkI7nu63opoHph43mlrDorr7nva7vvIzlhYjmuIXnqbrkuYvliY3nmoTnirbmgIEKCiAgICAgIHZhciByYW5nZSA9IDIwMDsKCiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5kb21zKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBkb20gPSBfc3RlcDIudmFsdWU7CgogICAgICAgICAgLy8g55yL5LiA5LiL5b2T5YmN6L+Z5LiqZG9t5YWD57Sg5piv5LiN5piv5bqU6K+l6KKr6YCJ5LitCiAgICAgICAgICBpZiAoIWRvbSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0gLy8g5b6X5Yiw5YWD57Sg56a76KeG5Y+j6aG26YOo55qE6Led56a7CgoKICAgICAgICAgIHZhciB0b3AgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOwoKICAgICAgICAgIGlmICh0b3AgPj0gMCAmJiB0b3AgPD0gcmFuZ2UpIHsKICAgICAgICAgICAgLy8g5Zyo6KeE5a6a55qE6IyD5Zu05YaFCiAgICAgICAgICAgIHRoaXMuYWN0aXZlQW5jaG9yID0gZG9tLmlkOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgaWYgKHRvcCA+IHJhbmdlKSB7CiAgICAgICAgICAgIC8vIOWcqOinhOWumueahOiMg+WbtOS4i+aWuQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDlnKjop4TlrprnmoTojIPlm7TkuIrmlrkKICAgICAgICAgICAgdGhpcy5hY3RpdmVBbmNob3IgPSBkb20uaWQ7IC8vIOWFiOWBh+iuvuiHquW3seaYr+a/gOa0u+eahO+8jOeEtuWQjue7p+e7reeci+WQjumdogogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["BlogTOC.vue"],"names":[],"mappings":";;;;;;;;;;;AAQA,OAAA,SAAA,MAAA,aAAA;AACA,SAAA,QAAA,QAAA,SAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GADA;AAIA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GAJA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GAbA;AAcA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AAAA;;AACA,UAAA,MAAA,GAAA,SAAA,MAAA,GAAA;AAAA,YAAA,GAAA,uEAAA,EAAA;AACA,eAAA,GAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,iDACA,CADA;AAEA,YAAA,QAAA,EAAA,CAAA,CAAA,MAAA,KAAA,KAAA,CAAA,YAFA;AAGA,YAAA,QAAA,EAAA,MAAA,CAAA,CAAA,CAAA,QAAA;AAHA;AAAA,SAAA,CAAA;AAKA,OANA;;AAOA,aAAA,MAAA,CAAA,KAAA,GAAA,CAAA;AACA,KAXA;AAYA;AACA,IAAA,IAbA,kBAaA;AACA,UAAA,IAAA,GAAA,EAAA;;AACA,UAAA,SAAA,GAAA,SAAA,SAAA,CAAA,GAAA,EAAA;AAAA,mDACA,GADA;AAAA;;AAAA;AACA,8DAAA;AAAA,gBAAA,CAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,QAAA,CAAA,cAAA,CAAA,CAAA,CAAA,MAAA,CAAA;;AACA,gBAAA,CAAA,CAAA,QAAA,IAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AACA,cAAA,SAAA,CAAA,CAAA,CAAA,QAAA,CAAA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAOA,OAPA;;AAQA,MAAA,SAAA,CAAA,KAAA,GAAA,CAAA;AACA,aAAA,IAAA;AACA;AAzBA,GAdA;AAyCA,EAAA,OAzCA,qBAyCA;AACA,SAAA,iBAAA,GAAA,QAAA,CAAA,KAAA,SAAA,EAAA,EAAA,CAAA;AACA,SAAA,IAAA,CAAA,GAAA,CAAA,YAAA,EAAA,KAAA,iBAAA;AACA,GA5CA;AA6CA,EAAA,SA7CA,uBA6CA;AACA,SAAA,IAAA,CAAA,IAAA,CAAA,YAAA,EAAA,KAAA,iBAAA;AACA,GA/CA;AAgDA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,IADA,EACA;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,IAAA,CAAA,MAAA;AACA,KAHA;AAIA;AACA,IAAA,SALA,qBAKA,SALA,EAKA;AACA,UAAA,CAAA,SAAA,EAAA;AACA;AACA;;AACA,WAAA,YAAA,GAAA,EAAA,CAJA,CAIA;;AACA,UAAA,KAAA,GAAA,GAAA;;AALA,kDAMA,KAAA,IANA;AAAA;;AAAA;AAMA,+DAAA;AAAA,cAAA,GAAA;;AACA;AACA,cAAA,CAAA,GAAA,EAAA;AACA;AACA,WAJA,CAKA;;;AACA,cAAA,GAAA,GAAA,GAAA,CAAA,qBAAA,GAAA,GAAA;;AACA,cAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,KAAA,EAAA;AACA;AACA,iBAAA,YAAA,GAAA,GAAA,CAAA,EAAA;AACA;AACA,WAJA,MAIA,IAAA,GAAA,GAAA,KAAA,EAAA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA,iBAAA,YAAA,GAAA,GAAA,CAAA,EAAA,CAFA,CAEA;AACA;AACA;AAxBA;AAAA;AAAA;AAAA;AAAA;AAyBA;AA9BA;AAhDA,CAAA","sourcesContent":["<template>\n  <div class=\"blog-toc-container\">\n    <h2>目录</h2>\n    <RightList :list=\"tocWithSelect\" @select=\"handleSelect\" />\n  </div>\n</template>\n\n<script>\nimport RightList from \"./RightList\";\nimport { debounce } from \"@/utils\";\nexport default {\n  components: {\n    RightList,\n  },\n  props: {\n    toc: {\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      activeAnchor: \"\",\n    };\n  },\n  computed: {\n    // 根据toc属性以及activeAnchor得到带有isSelect属性的toc数组\n    tocWithSelect() {\n      const getTOC = (toc = []) => {\n        return toc.map((t) => ({\n          ...t,\n          isSelect: t.anchor === this.activeAnchor,\n          children: getTOC(t.children),\n        }));\n      };\n      return getTOC(this.toc);\n    },\n    // 根据toc得到它们对应的元素数组\n    doms() {\n      const doms = [];\n      const addToDoms = (toc) => {\n        for (const t of toc) {\n          doms.push(document.getElementById(t.anchor));\n          if (t.children && t.children.length) {\n            addToDoms(t.children);\n          }\n        }\n      };\n      addToDoms(this.toc);\n      return doms;\n    },\n  },\n  created() {\n    this.setSelectDebounce = debounce(this.setSelect, 50);\n    this.$bus.$on(\"mainScroll\", this.setSelectDebounce);\n  },\n  destroyed() {\n    this.$bus.$off(\"mainScroll\", this.setSelectDebounce);\n  },\n  methods: {\n    handleSelect(item) {\n      location.hash = item.anchor;\n    },\n    // 设置activeAnchor为正确的值\n    setSelect(scrollDom) {\n      if (!scrollDom) {\n        return;\n      }\n      this.activeAnchor = \"\"; // 由于后续要重新设置，先清空之前的状态\n      const range = 200;\n      for (const dom of this.doms) {\n        // 看一下当前这个dom元素是不是应该被选中\n        if (!dom) {\n          continue;\n        }\n        // 得到元素离视口顶部的距离\n        const top = dom.getBoundingClientRect().top;\n        if (top >= 0 && top <= range) {\n          // 在规定的范围内\n          this.activeAnchor = dom.id;\n          return;\n        } else if (top > range) {\n          // 在规定的范围下方\n          return;\n        } else {\n          // 在规定的范围上方\n          this.activeAnchor = dom.id; // 先假设自己是激活的，然后继续看后面\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.blog-toc-container {\n  h2 {\n    font-weight: bold;\n    letter-spacing: 2px;\n    font-size: 1em;\n    margin: 0;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Blog/components"}]}