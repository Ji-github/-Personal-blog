{"map":{"version":3,"sources":["js/message-legacy.a9243b99.js"],"names":["window","push","25d1","module","exports","__webpack_require__","29fa","3a13","__webpack_exports__","3e55","684a","render","_vm","this","_h","$createElement","_c","_self","staticClass","_g","$listeners","_v","_s","title","subTitle","attrs","list","directives","name","rawName","value","expression","staticRenderFns","DataFormvue_type_template_id_f6ef7514_scoped_true_render","ref","id","on","submit","$event","preventDefault","handleSubmit","formData","type","maxlength","placeholder","domProps","input","target","composing","$set","nickname","length","error","content","disabled","isSubmiting","DataFormvue_type_template_id_f6ef7514_scoped_true_staticRenderFns","DataFormvue_type_script_lang_js_","data","methods","_this","$emit","successMsg","$showMessage","duration","container","$refs","form","callback","MessageArea_DataFormvue_type_script_lang_js_","componentNormalizer","component","Object","DataForm","DataListvue_type_template_id_6bbcd1b2_scoped_true_render","_l","item","key","url","avatar","size","formatDate","createDate","DataListvue_type_template_id_6bbcd1b2_scoped_true_staticRenderFns","Avatar","utils","DataListvue_type_script_lang_js_","components","props","Array","default","MessageArea_DataListvue_type_script_lang_js_","DataList_component","DataList","MessageAreavue_type_script_lang_js_","String","isListLoading","Boolean","components_MessageAreavue_type_script_lang_js_","MessageArea_component","8fc4","r","isLoading","rows","asyncToGenerator","MessageArea","mixins_fetchData","request","getMessages","_getMessages","apply","arguments","regeneratorRuntime","mark","_callee","page","limit","_args","wrap","_context","prev","next","undefined","get","params","abrupt","sent","stop","postMessage","_x","_postMessage","_callee2","msgInfo","_context2","post","mainScroll","Messagevue_type_script_lang_js_","mixins","total","created","$bus","$on","handleScroll","destroyed","$off","computed","hasMore","fetchData","dom","range","dec","Math","abs","scrollTop","clientHeight","scrollHeight","fetchMore","_this2","resp","concat","_this3","_callee3","_context3","unshift","views_Messagevue_type_script_lang_js_","9a54","bac8","cd0e","e128","_Users_jixinyan_Desktop_DuYi_Vue2_1_39_my_site_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","defaultDataValue","e34a","f119","refValue","mounted","handleSetMainScroll","addEventListener","handleMainScroll","beforeDestroy","removeEventListener"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"message\"],{\"25d1\":function(t,e,a){},\"29fa\":function(t,e,a){},\"3a13\":function(t,e,a){\"use strict\";a(\"9a54\")},\"3e55\":function(t,e,a){\"use strict\";a(\"29fa\")},\"684a\":function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"message-area-container\"},[a(\"DataForm\",t._g({},t.$listeners)),a(\"h3\",[t._v(\" \"+t._s(t.title)+\" \"),a(\"span\",[t._v(t._s(t.subTitle))])]),a(\"DataList\",{attrs:{list:t.list}}),a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.isListLoading,expression:\"isListLoading\"}],staticClass:\"loading\"})],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"form\",{ref:\"form\",staticClass:\"data-form-container\",attrs:{id:\"data-form-container\"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a(\"div\",{staticClass:\"form-item\"},[a(\"div\",{staticClass:\"input-area\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.formData.nickname,expression:\"formData.nickname\"}],attrs:{type:\"text\",maxlength:\"10\",placeholder:\"用户昵称\"},domProps:{value:t.formData.nickname},on:{input:function(e){e.target.composing||t.$set(t.formData,\"nickname\",e.target.value)}}}),a(\"span\",{staticClass:\"tip\"},[t._v(t._s(t.formData.nickname.length)+\"/10\")])]),a(\"div\",{staticClass:\"error\"},[t._v(t._s(t.error.nickname))])]),a(\"div\",{staticClass:\"form-item\"},[a(\"div\",{staticClass:\"text-area\"},[a(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.formData.content,expression:\"formData.content\"}],attrs:{maxlength:\"300\",placeholder:\"输入内容\"},domProps:{value:t.formData.content},on:{input:function(e){e.target.composing||t.$set(t.formData,\"content\",e.target.value)}}}),a(\"span\",{staticClass:\"tip\"},[t._v(t._s(t.formData.content.length)+\"/300\")])]),a(\"div\",{staticClass:\"error\"},[t._v(t._s(t.error.content))])]),a(\"div\",{staticClass:\"form-item\"},[a(\"div\",{staticClass:\"button-area\"},[a(\"button\",{attrs:{disabled:t.isSubmiting}},[t._v(\" \"+t._s(t.isSubmiting?\"提交中...\":\"提交\")+\" \")])])])])},s=[],o={data:function(){return{formData:{nickname:\"\",content:\"\"},error:{nickname:\"\",content:\"\"},isSubmiting:!1}},methods:{handleSubmit:function(){var t=this;this.error.nickname=this.formData.nickname?\"\":\"请填写昵称\",this.error.content=this.formData.content?\"\":\"请填写内容\",this.error.nickname||this.error.content||(this.isSubmiting=!0,this.$emit(\"submit\",this.formData,(function(e){t.$showMessage({content:e,type:\"success\",duration:1e3,container:t.$refs.form,callback:function(){t.isSubmiting=!1,t.formData.nickname=\"\",t.formData.content=\"\"}})})))}}},c=o,u=(a(\"3a13\"),a(\"2877\")),l=Object(u[\"a\"])(c,i,s,!1,null,\"f6ef7514\",null),f=l.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"ul\",{staticClass:\"data-list-container\"},t._l(t.list,(function(e){return a(\"li\",{key:e.id},[a(\"Avatar\",{attrs:{url:e.avatar,size:44}}),a(\"div\",{staticClass:\"data\"},[a(\"div\",{staticClass:\"nickname\"},[t._v(t._s(e.nickname))]),a(\"div\",{staticClass:\"content\"},[t._v(t._s(e.content))]),a(\"div\",{staticClass:\"time\"},[t._v(t._s(t.formatDate(e.createDate,!0)))])])],1)})),0)},d=[],h=a(\"77c0\"),p=a(\"ed08\"),v={components:{Avatar:h[\"a\"]},props:{list:{type:Array,default:function(){return[]}}},methods:{formatDate:p[\"b\"]}},g=v,b=(a(\"bac8\"),Object(u[\"a\"])(g,m,d,!1,null,\"6bbcd1b2\",null)),w=b.exports,_={props:{title:{type:String,default:\"\"},subTitle:{type:String,default:\"\"},list:{type:Array,default:function(){return[]}},isListLoading:{type:Boolean,default:!1}},components:{DataForm:f,DataList:w}},S=_,D=(a(\"3e55\"),Object(u[\"a\"])(S,n,r,!1,null,\"081b83b7\",null));e[\"a\"]=D.exports},\"8fc4\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{ref:\"messageContainer\",staticClass:\"message-container\"},[a(\"MessageArea\",{attrs:{title:\"留言板\",subTitle:\"(\"+t.data.total+\")\",isListLoading:t.isLoading,list:t.data.rows},on:{submit:t.handleSubmit}})],1)},r=[],i=(a(\"99af\"),a(\"96cf\"),a(\"1da1\")),s=a(\"684a\"),o=a(\"e128\"),c=a(\"0c6d\");function u(){return l.apply(this,arguments)}function l(){return l=Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var e,a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:10,t.next=4,c[\"a\"].get(\"/api/message\",{params:{page:e,limit:a}});case 4:return t.abrupt(\"return\",t.sent);case 5:case\"end\":return t.stop()}}),t)}))),l.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(i[\"a\"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c[\"a\"].post(\"/api/message\",e);case 2:return t.abrupt(\"return\",t.sent);case 3:case\"end\":return t.stop()}}),t)}))),m.apply(this,arguments)}var d=a(\"f119\"),h={components:{MessageArea:s[\"a\"]},data:function(){return{page:1,limit:10}},mixins:[Object(o[\"a\"])({total:0,rows:[]}),Object(d[\"a\"])(\"messageContainer\")],created:function(){this.$bus.$on(\"mainScroll\",this.handleScroll)},destroyed:function(){this.$bus.$off(\"mainScroll\",this.handleScroll)},computed:{hasMore:function(){return this.data.rows.length<this.data.total}},methods:{fetchData:function(){var t=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",u(t.page,t.limit));case 1:case\"end\":return e.stop()}}),e)})))()},handleScroll:function(t){if(!this.isLoading&&t){var e=100,a=Math.abs(t.scrollTop+t.clientHeight-t.scrollHeight);a<=e&&this.fetchMore()}},fetchMore:function(){var t=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.hasMore){e.next=2;break}return e.abrupt(\"return\");case 2:return t.isLoading=!0,t.page++,e.next=6,t.fetchData();case 6:a=e.sent,t.data.total=a.total,t.data.rows=t.data.rows.concat(a.rows),t.isLoading=!1;case 10:case\"end\":return e.stop()}}),e)})))()},handleSubmit:function(t,e){var a=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,f(t);case 2:r=n.sent,e(\"感谢您的留言\"),a.data.rows.unshift(r);case 5:case\"end\":return n.stop()}}),n)})))()}}},p=h,v=(a(\"cd0e\"),a(\"2877\")),g=Object(v[\"a\"])(p,n,r,!1,null,\"5d122bca\",null);e[\"default\"]=g.exports},\"9a54\":function(t,e,a){},bac8:function(t,e,a){\"use strict\";a(\"25d1\")},cd0e:function(t,e,a){\"use strict\";a(\"e34a\")},e128:function(t,e,a){\"use strict\";a(\"96cf\");var n=a(\"1da1\");e[\"a\"]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{data:function(){return{isLoading:!0,data:t}},created:function(){var t=this;return Object(n[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:t.data=e.sent,t.isLoading=!1;case 4:case\"end\":return e.stop()}}),e)})))()}}}},e34a:function(t,e,a){},f119:function(t,e,a){\"use strict\";e[\"a\"]=function(t){return{mounted:function(){this.$bus.$on(\"setMainScroll\",this.handleSetMainScroll),this.$refs[t].addEventListener(\"scroll\",this.handleMainScroll)},beforeDestroy:function(){this.$bus.$emit(\"mainScroll\"),this.$bus.$off(\"setMainScroll\",this.handleSetMainScroll),this.$refs[t].removeEventListener(\"scroll\",this.handleMainScroll)},methods:{handleSetMainScroll:function(e){this.$refs[t].scrollTop=e},handleMainScroll:function(){this.$bus.$emit(\"mainScroll\",this.$refs[t])}}}}}}]);","extractedComments":[]}